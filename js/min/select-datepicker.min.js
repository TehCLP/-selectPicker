!function(t){"use strict";function a(){var t=d.getHours(),a=d.getMinutes();return t=(10>t?"0":"")+t,a=(10>a?"0":"")+a,parseInt(t+a)}function e(t){var e=!1;return""!=t&&a()>=t&&(e=!0),e}function n(t,a){var n=[0,!1];if(""!=t.startDate&&""!=t.endDate){var l=e(a);r(t.startDate,t.endDate)?(o(t.startDate,"i")!=o(d,"i")||l)&&(n[0]=i(d,t.toDate),n[1]=!0):l&&(n[0]=1)}return n}function r(t,a,e){e=e||d;var n=o(e,"i"),r=o(t,"i"),i=o(a,"i"),l=i>=n&&n>=r;return l}function i(t,a){for(var e=o(t),n=o(t,"i"),r=o(a,"i"),i=0;r>n;)e=e.addDays(1),n=o(e,"i"),i++;return i}function o(t,a){function e(t){var a=t.getDate(),e=t.getMonth()+1;return a=(10>a?"0":"")+a,e=(10>e?"0":"")+e,parseInt(t.getFullYear()+e+a)}var n="";if(""!=t){switch(Object.prototype.toString.call(t)){case"[object Date]":n=t;break;case"[object String]":var r=t.split(/\W+/);n=new Date(parseInt(r[0]),parseInt(r[1])-1,parseInt(r[2]))}n="i"==a?e(n):n}return n}var l=["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],D=["January","February","March","April","May","June","July","August","September","October","November","December"],d=new Date;Date.prototype.addDays||(Date.prototype.addDays=function(t){var a=new Date(this.valueOf());return a.setDate(a.getDate()+t),a});var y=function(a){var e=this;e.today=new Date,e.$day=t(a.idDay),e.$month=t(a.idMonth),e.$year=t(a.idYear),e._lang=a.language,e._minDate=o(a.minDate),e._minDateTmp=e._minDate||new Date,e._maxDate=o(a.maxDate),e._timeAfter=(""==a.timeAfter?"":a.timeAfter).replace(/[:\.]/g,""),e._arrAddDay=[],e._holiday=a.holiday,e.initial()};y.prototype={initial:function(){var a=this;a.fillDate(a.today.getMonth()+1,a.today.getFullYear(),!0,!0),a.$month.on("change",function(){a.fillDate(t(this).val(),a.$year.val(),!1,!1)}),a.$year.on("change",function(){a.fillDate(a.$month.val(),t(this).val(),!0,!1)})},fillDate:function(t,a,r,i){var o=this;o._arrAddDay=n(o._holiday,o._timeAfter),o._arrAddDay[0]<1&&e(o._timeAfter)&&(o._arrAddDay[0]=1),o._arrAddDay[0]>0&&(o._minDate=(o._arrAddDay[1]?new Date:o._minDateTmp).addDays(o._arrAddDay[0])),i&&(o.fillYear(),a=o.$year.val()),"th"==o._lang&&(a-=543),r&&(o.fillMonth(a),t=o.$month.val()),o.fillDay(t,a)},fillDay:function(t,a){var e=this,n=1,r=new Date(a,t,0).getDate()+1,i=e.$day.val()||"";""!=e._maxDate&&a==e._maxDate.getFullYear()&&t==e._maxDate.getMonth()+1&&(r=e._maxDate.getDate()+1),a==e.today.getFullYear()&&t==e.today.getMonth()+1&&""==e._minDate&&(n=e.today.getDate()),""!=e._minDate&&a==e._minDate.getFullYear()&&t==e._minDate.getMonth()+1&&(n=e._minDate.getDate()),e.$day.empty();for(var o=n;r>o;o++)e.$day.append('<option value="'+o+'">'+o+"</option>").val(o);""==i?n>e.today.getDate()||e._arrAddDay[1]?e.$day.val(n):e.$day.val(e.today.getDate()):n>i?e.$day.val(n):r>i?e.$day.val(i):e.$day.val(r-1)},fillMonth:function(t){var a=this,e=D,n=1,r=13,i=a.$month.val()||"";"th"==a._lang&&(e=l),""!=a._maxDate&&t==a._maxDate.getFullYear()&&(r=a._maxDate.getMonth()+1+1),""!=a._minDate?t==a._minDate.getFullYear()&&(n=a._minDate.getMonth()+1):t==a.today.getFullYear()&&(n=a.today.getMonth()+1),a.$month.empty();for(var o=n;r>o;o++)a.$month.append('<option value="'+o+'">'+e[o-1]+"</option>");""==i?n>a.today.getMonth()+1||a._arrAddDay[1]?a.$month.val(n):a.$month.val(a.today.getMonth()+1):n>i?a.$month.val(n):i>r-1?a.$month.val(r-1):a.$month.val(i)},fillYear:function(){var t,a=this,e=a.today.getFullYear(),n=e,r=e,i=a.$year.val()||"";""!=a._minDate&&(n=a._minDate.getFullYear()),""!=a._maxDate?(t=a._maxDate.getFullYear()-e+1,r+=t):r+=2,"th"==a._lang&&(n+=543,r+=543,e+=543),a.$year.empty(),t=n;for(var o=n;r>o;o++)a.$year.append('<option value="'+t+'">'+t+"</option>"),t++;""==i&&(n>e?a.$year.val(n):a.$year.val(e))}},y.prototype.constructor=y,window.$selectPicker=window.$selectPicker||{ver:"3.1",init:function(a){var e=t.extend({idDay:"",idMonth:"",idYear:"",language:"en",minDate:"",maxDate:"",timeAfter:"",holiday:{startDate:"",endDate:"",toDate:""}},a);new y(e)},checkDayInRange:function(t,a,e){return e=e||new Date,r(t,a,e)},getDateDiff:function(t,a){return i(t,a)}}}(jQuery);